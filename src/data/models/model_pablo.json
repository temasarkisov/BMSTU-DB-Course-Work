{
    "cubes": [
        {
            "name": "medal",
            "dimensions": ["athletes", "games"],
            "joins": [
                {"master":"id", "detail":"athletes.id"},
                {"master":"athletes.id_noc", "detail":"nation.id"},
                {"master":"id_game", "detail":"games.id"}
            ],
            "mappings": {
                "athletes.nation_noc": "nation.noc"
            },
            "measures": [
		        {"name": "gold_m"},
                {"name": "silver_m"},
                {"name": "bronze_m"}
            ],
            "aggregates": [
                {
                    "name": "test_agr",
                    "function": "sum",
                    "measure": "gold_m"
                },
                {
                    "name": "test_agr2",
                    "function": "sum",
                    "measure": "silver_m"
                },
                {
                    "name": "test_agr3",
                    "function": "sum",
                    "measure": "bronze_m"
                }
            ]
        }
    ],

    "dimensions": [
        { 
            "name": "athletes", 
            "levels": [
                {
                    "name": "sex",
                    "attributes": ["sex"],
                    "label_attribute" : "sex",
                    "order_attribute": "sex",
                    "key": "sex"
                },
                {
                    "name": "over",
                    "attributes": ["name", "nation_noc", "id_noc"],
                    "label_attribute" : "name",
                    "order_attribute": "name",
                    "key": "name"
                }
            ],
            "hierarchies": [
                {"name": "ymd", "levels":["sex", "over"]},
                {"name": "ym", "levels":["over", "sex"]}
            ],
            "default_hierarchy_name": "ymd"
        },
        { "name": "games",
            "levels": [
                {
                    "name": "year",
                    "attributes": ["year"],
                    "key" : "year"
                },
                {
                    "name": "season",
                    "attributes": ["season"],
                    "key" : "season"
                },
                {
                    "name": "id",
                    "attributes": ["id"],
                    "key" : "id"
                }
            ],
            "hierarchies": [
                {"name": "ymd", "levels":["year", "season"]},
                {"name": "ym", "levels":["season", "id"]}
            ],
            "default_hierarchy_name": "ymd"   
        }
    ]
}
